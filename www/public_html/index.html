<!doctype html>
<html lang="en">
    <head>
        <!--    teamporal remove in production-->
        <!--           https://gisrededev.github.io/DigGen/
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />
        -->        

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Digital Gender Gaps">
        <meta name="author" content="GISRede">
        <title>Digital Gender Gaps</title>

        <link rel="stylesheet" href="./utils/leaflet_180/leaflet.css" crossorigin="" />
        <script src="./utils/leaflet_180/leaflet.js" crossorigin=""></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">        

        <link rel="stylesheet" href="./utils/leaflet_control_bar/L.Control.Bar.css" /> 
        <link rel="stylesheet" href="./utils/leaflet_sidebar/css/leaflet-sidebar.css" /> 
        <link href="./utils/select2_410/css/select2.css" rel="stylesheet"/>      

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker3.min.css"/> 

        <link rel="stylesheet" href="./css/style.css?v=31">
        <!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/2.3.1/css/flag-icon.min.css" rel="stylesheet"/>-->

        <link rel="stylesheet" type="text/css" href="./utils/DataTables/datatables.min.css"/>

        <style>

        </style>

    </head>

    <body >

        <div id="coverScreen"  class="LockOn">
            <div id="loading-content">
                Loading...
            </div>
        </div>  


        <header>
        
<div class="navbar navbar-dark shadow-sm navbar-expand-lg" style="z-index: 2100">
<div class="container-fluid">
    <a class="navbar-brand" href="#">Digital Gender Gaps</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
<!--<div class="collapse navbar-collapse  justify-content-end" id="navbarText">    -->
<!--<ul class="navbar-nav pr-5">    -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link " aria-current="page" href="#" id="aBtnAbout">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="aBtnQuickStart">Quick Start</a>
        </li>        
        <li class="nav-item">
          <a class="nav-link" href="#" id="aBtnTeam">Team</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#" id="aBtnPrivacy">Privacy</a>
        </li>        
      </ul>
      <span class="navbar-text p-0 m-0">
        <img id="img-header" src="./img/university_of_oxford_logo.png" style="height:40px;" />
      </span>
    </div>
  </div>
            </div>            
            
<!--       <div class="navbar navbar-dark shadow-sm">
                <div class="container-fluid">
                    <a href="#" class="navbar-brand d-flex align-items-center">
                        <strong>Digital Gender Gaps</strong>
                    </a>
                    <img id="img-header" src="./img/university_of_oxford_logo.png" style="height:40px;" />
                </div>
            </div>-->
            
            
        </header> 


        <div id="sidebar" class="sidebar collapsed" style="visibility: hidden;">
            <div class="progressMenu" id="progressMenu"><div id="progressMenu-content" ></div></div>
            <!-- Nav tabs -->
            <div class="sidebar-tabs">
                <ul role="tablist">
                    <li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>
                    <li><a class="button mousechangeHand" id="AboutBtn"  role="tab" target="_blank"><i class="fa fa-question-circle"></i></a></li>
                    <li class="tableLink-item"><a href="" id="tableLink" role="tab" target="_blank"><i class="fa fa-table"></i></a></li>
                    
                    <li><a href="#download" role="tab"><i class="fa fa-download"></i></a></li>
                    <li><a href="#settings" role="tab"><i class="fa fa-cog"></i></a></li>
                    
                    <li class="disabled"><a href="#messages" role="tab"><i class="fa fa-envelope"></i></a></li>
<!--                    <li><a class="button mousechangeHand" id="downloadBtn" role="tab" target="_blank"><i class="fa fa-download"></i></a></li>-->
                    
                </ul>

<!--                <ul role="tablist">
                    <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
                </ul>-->
            </div>

            <!-- Tab panes -->
            <div class="sidebar-content">
                <div class="sidebar-pane" id="home">
                    <h1 class="sidebar-header">
                        Digital Gender Gaps
                        <span class="sidebar-close"><i class="fa fa-caret-right"></i></span>
                    </h1>
     

                    <label class="mb-3 mt-4  fw-bold" >Model
                        <select id="select_models" style="width:200px;background-color: #fff; border: 1px solid #aaa; border-radius: 4px;font: 10pt 'Helvetica Neue', Arial, Helvetica, sans-serif; height: 28px;color: #444; line-height: 28px; display: block; padding-left: 8px; padding-right: 20px; text-overflow: ellipsis; white-space: nowrap;">
                        </select>
                    </label>

                    <br/>

                    <section class="container p-0 m-0">
                        <form class="row">
                            <label for="date" class="col-1 col-form-label pb-0 fw-bold">Date</label>
                            <div class="col-12">
                                <div class="input-group date" id="datepicker">
                                    <input type="text" class="form-control" id="date"/>
                                    <span class="input-group-append">
                                        <span class="input-group-text bg-light d-block">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </form>
                    </section>                   


                    <br/>

                    <p class="p-0 m-1">Select an country to zoom</p> 
                    <select id="select_country" style="width:200px;">
                        <option></option> 
                    </select> 

                    <p class="p-0 mt-4 mb-1 fw-bold" id="titleModelName">
                    </p>                    

                    <p class="p-0 m-0">
                        <small id="titleModelDescription">
                        </small>
                    </p>

                </div>
                
                <div class="sidebar-pane" id="download">
                    <h1 class="sidebar-header">Download<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                    
                    <p class="fw-light mt-4">To download a data please select starting and ending dates.</p>
                    
                    <section class="container p-0 m-0">
                        <form class="row">
                            <label for="date" class="col-6 col-form-label pb-0 fw-bold">Start date</label>
                            <div class="col-12">
                                <div class="input-group date" id="datepicker_start_date">
                                    <input type="text" class="form-control" id="date"/>
                                    <span class="input-group-append">
                                        <span class="input-group-text bg-light d-block">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </form>
                    </section> 
                    

                    <section class="container p-0 m-0">
                        <form class="row">
                            <label for="date" class="col-6 col-form-label pb-0 fw-bold">End date</label>
                            <div class="col-12">
                                <div class="input-group date" id="datepicker_end_date">
                                    <input type="text" class="form-control" id="date"/>
                                    <span class="input-group-append">
                                        <span class="input-group-text bg-light d-block">
                                            <i class="fa fa-calendar"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </form>
                    </section>   
                    
                    <button type="button" id="btnDownloadData" class="btn btn-dark btn-sm mt-4">Download</button>
                    
                    <div id="errorDownload" class="mt-4 alert alert-danger alert-dismissible " style="display: none;">
                         <strong>Error!</strong> 
                            Please select the starting date before ending date
                        <button type="button" class="btn-close" id="errorDownloadClose"></button>
                    </div>           
                    
                </div>                

                <div class="sidebar-pane" id="profile">
                    <h1 class="sidebar-header">Settings<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                </div>

                <div class="sidebar-pane" id="messages">
                    <h1 class="sidebar-header">Messages<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                </div>

                <div class="sidebar-pane" id="settings">
                    <h1 class="sidebar-header">Settings<span class="sidebar-close"><i class="fa fa-caret-left"></i></span></h1>
                    
                    <div class="pt-4">  
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="chCountryLabels" checked>
                            <label class="form-check-label" for="chCountryLabels">Show country name labels</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="chLegend" checked>
                            <label class="form-check-label" for="chLegend">Show legend </label>
                        </div>                        
                    </div> 
                    <div class="pt-4">  
                            <label for="customRangeOpacity" class="form-label">Opacity</label>
                            <input type="range" class="form-range" min="0" max="1" step="0.1" value="0.9" id="customRangeOpacity">
                    </div>                     
                    
                </div>
            </div>
        </div>


        <div id="map" style=""></div>

        <div id="table_bottom"></div>

        <footer class="footer">
            <div class="container-fluid" style="">
                <div class="row">
                    <div class="col">

                    </div>
                    <div class="col">
                        <p class="ext-muted mt-2 pt-4" style="font-size: 12px;text-align: right; ">&copy; 2022 <a href="#" style="text-decoration: none;">Digital Gender Gaps</a></p>
                    </div>
                </div>
            </div>
        </footer>
        <a id="downloadAnchorElem" style="display:none"></a>    
        
        <!--  Modal QuickStart -->
        <div class="modal fade "  data-backdrop="false"  id="idMdQuickStart" tabindex="-1"  aria-labelledby="ModalQuickStart" style="opacity: 0.90;z-index: 2200" >
            <div class="modal-dialog shadow-lg modal-lg" style="overflow-y: initial !important"  role="document">
                <div class="modal-content">
                    <div class="modal-header" style="padding: 0.5rem;cursor: move;">
                        <h5 class="modal-title" id="ModalQuickStartLabel">Quick Start</h5>                 
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <div class="modal-body" style="max-height: calc(100vh - 200px); overflow-y: auto">
                        <div class="container">

                            <div style="font-size: 12px;" id="QuickStartTabPopup"> 
                            </div> 

                            <div class="mw-100"> 
                                <div class="form-group col-12">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-footer p-1" >
                        <button type="button" class="btn btn-secondary btn-sm mr-2" data-bs-dismiss="modal">Close</button> 
                    </div>                    
                </div>
            </div>
        </div>                             
        <!--  Modal QuickStart -->
        
        <div class="modal fade "  data-backdrop="false"  id="idMdAbout" tabindex="-1"  aria-labelledby="ModalAbout" style="opacity: 0.8;z-index: 2200">
            <div class="modal-dialog shadow-lg modal-lg" style="overflow-y: initial !important"  role="document" id="idModalSetting-dialog">
                <div class="modal-content">
                    <div class="modal-header" style="padding: 0.5rem;cursor: move;">
                        <h5 class="modal-title" id="ModalAboutLabel">About</h5>                 
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <div class="modal-body" style="max-height: calc(100vh - 200px); overflow-y: auto">
                        <div class="container">

                            <div style="font-size: 12px;" id="aboutTabPopup">
                            </div> 

                            <div class="mw-100"> 
                                <div class="form-group col-12">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-footer p-1" >
                        <button type="button" class="btn btn-secondary btn-sm mr-2" data-bs-dismiss="modal">Close</button> 
                    </div>                    
                </div>
            </div>
        </div>                             
        <!--  Modal About -->
        
        <!--  Modal Team -->
        <div class="modal fade "  data-backdrop="false"  id="idMdTeam" tabindex="-1"  aria-labelledby="ModalTeam" style="opacity: 0.95;z-index: 2200">
            <div class="modal-dialog shadow-lg modal-lg" style="overflow-y: initial !important"  role="document" >
                <div class="modal-content">
                    <div class="modal-header" style="padding: 0.5rem;cursor: move;">
                        <h5 class="modal-title" id="ModalTeamLabel">Team</h5>                 
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <div class="modal-body" style="max-height: calc(100vh - 200px); overflow-y: auto">
                        <div class="container">
                            <div style="font-size: 12px;" id="TeamTabPopup">

                            </div>

                        </div>
                    </div>
                    
                    <div class="modal-footer p-1" >
                        <button type="button" class="btn btn-secondary btn-sm mr-2" data-bs-dismiss="modal">Close</button> 
                    </div>                    
                </div>
            </div>
        </div>                             
        <!--  Modal Team end -->  
        
        
        <!--  Modal privacy -->
        <div class="modal fade "  data-backdrop="false"  id="idMdPrivacy" tabindex="-1"  aria-labelledby="ModalPrivacy" style="opacity: 0.95;z-index: 2200">
            <div class="modal-dialog shadow-lg modal-lg" style="overflow-y: initial !important"  role="document" >
                <div class="modal-content">
                    <div class="modal-header" style="padding: 0.5rem;cursor: move;">
                        <h5 class="modal-title" id="ModalPrivacyLabel">Privacy Policy</h5>                 
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <div class="modal-body" style="max-height: calc(100vh - 200px); overflow-y: auto">
                        <div class="container">
                            <div style="font-size: 12px;" id="PrivacyTabPopup">

                            </div>

                        </div>
                    </div>
                    
                    <div class="modal-footer p-1" >
                        <button type="button" class="btn btn-secondary btn-sm mr-2" data-bs-dismiss="modal">Close</button> 
                    </div>                    
                </div>
            </div>
        </div>                             
        <!--  Modal privacy end -->          
        
   <div class="toast-container"  style="position: absolute; top: 20px; right: 10px; z-index: 10000; background-color: #fff ; opacity: 0.9;filter: alpha(opacity=10);">
    <div class="toast" id="ToastDownloadCompleted">
        <div class="toast-header">
            <strong class="me-auto"><i class="bi-globe"></i>  Message </strong>
            <small></small>
            <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
        </div>
        <div class="toast-body">
            Download completed.
        </div>
    </div>


</div>      
        
        
    </body>
</html>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js'></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.0.1/leaflet-omnivore.min.js'></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.en-GB.min.js"></script>


<script src="./utils/moment/moment.js"></script>


<script src="./utils/bootbox/bootbox.min.js"></script>
<script src="./utils/bootbox/bootbox.locales.min.js"></script>

<script src="./utils/leaflet_sidebar/js/leaflet-sidebar.js"></script>
<script src="./utils/select2_410/js/select2.js"></script>
<script src="./utils/leaflet_control_bar/L.Control.Bar.js"></script>

<script type="text/javascript" src="./utils/DataTables/datatables.min.js"></script>

<script src="https://unpkg.com/showdown/dist/showdown.min.js"></script>

<script type="text/javascript">
    window.mdebug = true;
</script>
<script src="./js/main.js?version=16" type="module"></script>



<script type="text/javascript">
    $(document).ready(function () {

        $(window).on("resize", function () {
            $("#map").height($(window).height() - 102);
            //map.invalidateSize();

            $(".leaflet-sidebar-pane").css({
                minWidth: "236px",
                width: "236px"
            });
        }).trigger("resize");



        $("#tableLink").click(function () {
            event.preventDefault();
            if (window.controlTable_Bottom.isVisible()) {
                window.controlTable_Bottom.hide();
                $("li.tableLink-item").css("background-color", "");
            } else {
                window.controlTable_Bottom.show();
                $("li.tableLink-item").css("background-color", "#A6ACAF");
            }
        });


        $("#select_country").select2({
            placeholder: "Select an country",
            allowClear: true
        });
        
        $("#select_country_download").select2({
            placeholder: "Select an country",
            allowClear: false
        });
        $("#select_country_download").val('1').trigger('change');
        
        
        $("#AboutBtn").click(function(e) {
            $('#idMdQuickStart').modal('toggle');
            e.preventDefault();
            e.stopPropagation();
            return false;
        }); 
        
         $("#aBtnQuickStart").click(function(e) {
            $('#idMdQuickStart').modal('toggle');
            e.preventDefault();
            e.stopPropagation();
            return false;
        });        
        
        $("#aBtnTeam").click(function(e) {
            $('#idMdTeam').modal('toggle');
            e.preventDefault();
            e.stopPropagation();
            return false;
        });  
        
        
        $("#aBtnAbout").click(function(e) {
            $('#idMdAbout').modal('toggle');
            e.preventDefault();
            e.stopPropagation();
            return false;
        });  
        
        $("#aBtnPrivacy").click(function(e) {
            $('#idMdPrivacy').modal('toggle');
            e.preventDefault();
            e.stopPropagation();
            return false;
        });        
        
   
    });



</script>

<script>
$(function() {
   $(document).on('click', '#errorDownloadClose', function() {
       $(this).parent().hide();
   });
});
</script>


<script type="text/javascript">

jQuery.get('./md/about.md', function(data) {

    var aboutTabPopup = document.getElementById('aboutTabPopup');

    var converter = new showdown.Converter(),
        html      = converter.makeHtml(data);
        aboutTabPopup.innerHTML =html;
    
});



jQuery.get('./md/team.md', function(data) {

var TeamTabPopup = document.getElementById('TeamTabPopup');

    var converterTeam = new showdown.Converter(),
        html      = converterTeam.makeHtml(data);
        TeamTabPopup.innerHTML =html;
});

jQuery.get('./md/quickstart.md', function(data) {

var TeamTabPopup = document.getElementById('QuickStartTabPopup');

    var converterQuickStart = new showdown.Converter(),
        html = converterQuickStart.makeHtml(data);
        TeamTabPopup.innerHTML =html;
});

jQuery.get('./md/privacy.md', function(data) {

var PrivacyTabPopup = document.getElementById('PrivacyTabPopup');

    var converterPrivacy = new showdown.Converter(),
        html = converterPrivacy.makeHtml(data);
        PrivacyTabPopup.innerHTML =html;
});


</script>
